# taskListForApp

## Команда: codeHub

## ТЗ

Разработать программный продукт для помощи в осуществлении волонтерской деятельности в клиент-серверной архитектуре.

Клиент - Android Приложение, реализованное на java или kotlin с адаптивной версткой. Мобильное приложение должно предоставлять удобный и интуитивно понятный интерфейс для волонтеров, в котором можно зарегистрироваться в базу волонтеров, просмотреть ближайшие волонтерские центры, отредактировать собственный профиль и посмотреть активных волонтеров в конкретном центре. В случае авторизации с правами администратора, пользователь приложения должен иметь возможность просмотреть список не занятых волонтеров и их контактные данные.

Сервер - микросервис на Spring Boot, работающий с In-memory базой данных H2. Серверное приложение должно предоставлять API необходимый для работы мобильного приложения. Осуществлять все основные манипуляции с данными в СУБД при помощи Spring Data JPA. Данные о всех зарегистрированных волонтерских центрах должны быть предзаполнены в БД при запуске приложения. Создание схемы БД и предзаполнение данными необходимо реализовать с использованием liquibase.

---

## Декомпозиция ТЗ
### User Stories
1. Как **пользователь**, я хочу зарегистрироваться в системе, чтобы находиться в базе волонтеров.
2. Как **пользователь**, я хочу просматривать ближайшие волонтерские центры, чтобы участвовать в волонтерских мероприятиях.
3. Как **пользователь**, я хочу редактировать свой профиль, чтобы поддерживать актуальную информацию о себе.
4. Как **пользователь**, я хочу узнать список волонтеров конкретного центра, чтобы связаться с ними.
5. Как **администратор**, я хочу просмотреть список не занятых волонтеров, чтобы увидеть их контактные данные.
6. Как **администратор**, я умею удалять профили пользователей, чтобы удалять ненужные аккаунты

### Use Cases
1. **Цель:** Регистрация волонтера
	- **Акторы**: Пользователь
	- **Предусловия**: Учетная запись еще не создана. Пользователь находится на странице регистрации
	- **Основной поток:**
		1. Пользователь вводит в форму "Логин/Email" логин или почту без недопустимых символов
		2. Пользователь нажимает на кнопку "Регистрация"
		3. Данные отправляются на сервер и сохраняются в соответствующие поля в БД
		4. Приложение переходит на страницу с картой
	- **Альтернативный поток:**
		1. Пользователь вводит в поля запрещенные символы (@, [, ], \`, ', ", ~, \_, -, ;, .) или уже существующие данные 
		2. Пользователь нажимает кнопку "Регистрация"
		3. Появляется Toast: "Неверный ввод"

2.  **Цель:** Авторизация волонтера
	- **Акторы**: Пользователь
	- **Предусловия**: Учетная запись создана. Пользователь находится на странице авторизации
	- **Основной поток:**
		1. Пользователь вводит в форму "Логин/Email" логин или почту.
		2. Пользователь нажимает на кнопку "Войти"
		3. Данные проверяются на сервере
		4. Приложение переходит на главный экран
	- **Альтернативный поток:**
		1. Пользователь вводит несуществующие данные
		2. Пользователь нажимает кнопку "Войти"
		3. Toast: "Неверные данные"
	- **Альтернативный поток:**
		1. Пользователь вводит данные и нажимает "Сохранить"
		2. Сеть с сервером отсутствует. Toast: "Ошибка"

3.  **Цель:** Просмотр своего профиля
	- **Акторы**: Пользователь
	- **Предусловия**: Учетная запись создана.
	- **Основной поток:**
		1. Пользователь нажимает на иконку в углу
		2. Приложение получает данные с сервера.
		3. Приложение переходит на страницу профиля
	- **Альтернативный поток.**
		1. Отсутствует сеть с сервером.
		2. Toast: "Ошибка сети

4.  **Цель:** Редактирование профиля пользователя
	- **Акторы**: Пользователь
	- **Предусловия**: Учетная запись создана. Пользователь находится на странице профиля.
	- **Основной поток:**
		1. Пользователь нажимает на кнопку "Редактировать"
		2. Поля с текстом превращаются в поля ввода.
		3. Пользователь вносит изменения в контактные данные или информацию о навыках и предпочтениях и нажимает "Сохранить"
		4. Отправка данных на сервер. Toast: "Сохранено"
	- **Альтернативный поток:**
		1. Пользователь вводит данные и нажимает "Сохранить"
		2. Сеть с сервером отсутствует. Toast: "Ошибка"
	- **Альтернативный поток:**
	 1. Пользователь ввел данные в неправильном формате
	 2. Пользователь нажал "Сохранить"
	 3. Toast: "Неправильный формат"

5.  **Цель:** Удаление своего профиля пользователя
	- **Акторы**: Пользователь
	- **Предусловия**: Учетная запись создана. Пользователь находится на странице своего профиля.
	- **Основной поток:**
		1. Пользователь нажимает на кнопку "Удалить профиль"
		2. Появляется небольшое окно с выбором: "Вы уверены?"
		3. Пользователь выбирает "Да"
		4. Отправка запроса на сервер. Удаление данных с БД.
		5. Перенаправление пользователя на экран авторизации
	- **Альтернативный поток:**
		1. Пользователь выбирает "Нет"
		2. Закрытие появившегося окна
	- **Альтернативный поток:**
		1. Отсутствует сеть с сервером.
		2. Toast: "Ошибка сети"

 6.  **Цель:** Просмотр ближайших волонтерских центров
	- **Акторы**: Пользователь
	- **Предусловия**: Учетная запись создана. Пользователь открыл боковое меню
	- **Основной поток:**
		1. Пользователь выбирает пункт "Просмотр волонтерских центров"
		2. Получение данных с сервера
		3. Получение местоположения пользователя
		4. Приложение переходит на страницу со списком волонтерских центров, расположенных в порядке отдаления от пользователя
		5. Пользователь в поле ввода вводит первые буквы названия центра и нажимает значок лупы
		6. Выводит список волонтерских центров с таким названием
	- **Альтернативный поток:**
		1. Отсутствует соединение с сервером
		2. Вместо списка вывод надписи "Отсутствует соединение с сервером"
		3. Попытка получить данные сервера каждые n-секунд

6.  **Цель:** Просмотр страницы волонтерского центра
	- **Акторы**: Пользователь
	- **Предусловия**: Учетная запись создана. Пользователь нажал на волонтерский центр на карте или в списке ближайших волонтерских центров
	- **Основной поток:**
		1. Загрузка данных волонтерского центра с сервера (без списка волонтеров)
		2. Приложение открывает страницу центра
	- **Альтернативный поток:**
		1. Отсутствует соединение с сервером
		2. Toast: "Отсутствует соединение"

7.  **Цель:** Просмотр списка волонтеров конкретного центра
	- **Акторы**: Пользователь
	- **Предусловия**: Учетная запись создана. Пользователь находится на странице волонтерского центра
	- **Основной поток:**
		1. Пользователь нажимает на кнопку "Список волонтеров"
		2. Получение данных с бд с данных конкретного центра
		3. Приложение открывает со списком волонтеров центра
	- **Альтернативный поток:**
		1. Отсутствует соединение с сервером
		2. Toast: "Отсутствует соединение"

8.  **Цель:** Просмотр ближайших волонтерских центров
	- **Акторы**: Пользователь
	- **Предусловия**: Учетная запись создана. Пользователь открыл боковую панель
	- **Основной поток:**
		1. Пользователь нажимает на кнопку "Ближайшие волонтерские центры"
		2. Получение волонтерских центров с БД
		3. Получение геолокации пользователя
		4. Приложение переходит на страницу списка волонтерских центров, указанных по мере увеличения расстояния
	- **Альтернативный поток:**
		1. Отсутствует соединение с сервером
		2. Toast: "Отсутствует соединение"

9.  **Цель:** Просмотр списка не занятых волонтеров
	- **Акторы**: Администратор
	- **Предусловия**: Учетная запись создана. Пользователь открыл боковую панель
	- **Основной поток:**
		1. Пользователь нажимает на кнопку "Список не занятых волонтеров"
		2. Получение данных с сервера
		3. Приложение открывает со списком волонтеров и их данными
	- **Альтернативный поток:**
		1. Отсутствует сеть с сервером.
		2. Toast: "Ошибка сети"

10.  **Цель:** Удаление профиля любого пользователя
	- **Акторы**: Администратор
	- **Предусловия**: Учетная запись создана. Администратор находится на странице профиля пользователя
	- **Основной поток:**
		1. Администратор нажимает на кнопку "Удалить профиль"
		2. Появляется небольшое окно с выбором: "Вы уверены?"
		3. Пользователь выбирает "Да"
		4. Отправка запроса на сервер. Удаление данных с БД.
		5. Перенаправление администратора на экран, с которого он зашел в профиль
	- **Альтернативный поток:**
		1. Администратор выбирает "Нет"
		2. Закрытие появившегося окна
	- **Альтернативный поток:**
		1. Отсутствует сеть с сервером.
		2. Toast: "Ошибка сети"

### Задачи backend
1. Реализовать БД
2. Создать таблицу для пользователей 
3. Создать таблицу для волонтерских центров
4. API для регистрации
5. API для авторизации
6. API для получения данных профиля
7. API для отправления данных о профиле на сервер
8. API удаление профиля
9. API получения данных волонтерского центра

### Задачи frontend
1. Экран регистрации
2. Экран авторизации
3. Экран профиля
	- Загрузка данных с сервера
4. Экран волонтерского центра
	- Загрузка данных с сервера
5. Экран для списка
	- Загрузка соответствующих данных в список
6. Реализовать карту на главном экране
7. Реализовать боковую панель
8. Если администратор, то появляются функции, скрытые обычным пользователям
